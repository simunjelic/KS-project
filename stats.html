<!DOCTYPE html>
<html>
<head>
  <title>Statistika</title>
   <link rel="icon" type="image/png" href="assets/finance.png">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="style.css" />

</head>
<body style="background-image: url('assets/biznis.jpg'); background-size: cover; background-position: center;">
  <nav class="navbar navbar-expand-lg navbar-light bg-primary mb-5">
    <a class="navbar-brand text-light" href="#">FINANCIJE</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link text-light" href="index.html">Račun</a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-light" href="cilj.html">Ciljevi</a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-light" href="stats.html">Statistika</a>
        </li>
        <li class="nav-item">
          <a class="nav-link disabled text-light" href="login.html">Odjava</a>
        </li>
      </ul>
    </div>
  </nav>

  <div class="container user-amount-container">
    <h1 class="mt-4">Financijska statistika</h1>
    
    <div class="card mt-4 " >
      <div class="card-body">
        <h5 class="card-title">Prihodi i troškovi</h5>
        
        <div class="row">
          <div class="col-sm text-center">
            <h6 class="text-center">Mjesec</h6>
            <ul id="monthList" class="list-group"></ul>
          </div>
          <div class="col-sm text-center">
            <h6 class="text-center">Prihodi</h6>
            <ul id="incomeList" class="list-group"></ul>
            <p id="totalIncome" class="mt-3 text-center"></p>
          </div>
          <div class="col-sm text-center">
            <h6 class="text-center">Troškovi</h6>
            <ul id="expensesList" class="list-group"></ul>
            <p id="totalExpenses" class="mt-3 text-center"></p>
          </div>
          <div class="col-sm">
            <div class="card text-center">
              <div class="card-body">
                <h6 class="card-title">Saldo:</h6>
                <p id="balanceAmount" class="card-text"></p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <script>
    // Generate random numbers for income and expenses (replace with your actual data)
    function generateRandomData() {
      return Math.floor(Math.random() * 1000) + 500;
    }
    
    // Get the current month and year
    var currentDate = new Date();
    var currentMonth = currentDate.getMonth();
    var currentYear = currentDate.getFullYear();
    
    // Create arrays to store monthly data
    var months = [];
    var incomes = [];
    var expenses = [];
    
    // Calculate statistics for the last 5 months
    for (var i = 4; i >= 0; i--) {
      var date = new Date(currentYear, currentMonth - i, 1);
      var month = date.toLocaleString('default', { month: 'long' });
      var income = generateRandomData();
      var expense = generateRandomData();
      
      months.push(month);
      incomes.push(income);
      expenses.push(expense);
    }
    
    // Calculate total income and expenses for the year
    var totalIncome = incomes.reduce((a, b) => a + b, 0);
    var totalExpenses = expenses.reduce((a, b) => a + b, 0);
    var balance = totalIncome - totalExpenses;
    
    // Update the HTML elements with the calculated values
    var monthList = document.getElementById('monthList');
    var incomeList = document.getElementById('incomeList');
    var expensesList = document.getElementById('expensesList');
    
    for (var j = 0; j < months.length; j++) {
      var monthItem = document.createElement('li');
      monthItem.className = 'list-group-item';
      monthItem.textContent = months[j];
      monthList.appendChild(monthItem);
      
      var incomeItem = document.createElement('li');
      incomeItem.className = 'list-group-item';
      incomeItem.textContent = '$' + incomes[j].toFixed(2);
      incomeList.appendChild(incomeItem);
      
      var expenseItem = document.createElement('li');
      expenseItem.className = 'list-group-item';
      expenseItem.textContent = '$' + expenses[j].toFixed(2);
      expensesList.appendChild(expenseItem);
    }
    
    document.getElementById('totalIncome').textContent = 'Ukupni prihodi: €' + totalIncome.toFixed(2);
    document.getElementById('totalExpenses').textContent = 'Ukupni troškovi: €' + totalExpenses.toFixed(2);
    document.getElementById('balanceAmount').textContent = 'Saldo: €' + balance.toFixed(2);
    if (balance > 0) {
      balanceAmount.style.color = 'green'; 
      } else if (balance < 0) {
      balanceAmount.style.color = 'red'; 
      } else {
        balanceAmount.style.color = 'black'; 
      }
  </script>
</body>
</html>